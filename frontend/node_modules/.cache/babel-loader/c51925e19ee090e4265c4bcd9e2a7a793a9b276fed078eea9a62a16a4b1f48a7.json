{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthProvider,useAuth}from'./context/AuthContext';// Layout Components\nimport Navbar from'./components/layout/Navbar';import Footer from'./components/layout/Footer';// Pages\nimport Home from'./pages/Home';import Login from'./pages/auth/Login';import Register from'./pages/auth/Register';import Events from'./pages/Events';import EventDetail from'./pages/EventDetail';import Bookings from'./pages/Bookings';import Profile from'./pages/Profile';// Admin Pages\nimport AdminDashboard from'./pages/admin/AdminDashboard';import UserManagement from'./pages/admin/UserManagement';import EventManagement from'./pages/admin/EventManagement';import PaymentManagement from'./pages/admin/PaymentManagement';// Organizer Pages\nimport OrganizerDashboard from'./pages/organizer/OrganizerDashboard';import CreateEvent from'./pages/organizer/CreateEvent';import EditEvent from'./pages/organizer/EditEvent';import RegisteredAttendees from'./pages/organizer/RegisteredAttendees';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requiredRole=null}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(requiredRole&&user.role!==requiredRole){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/events\",element:/*#__PURE__*/_jsx(Events,{})}),/*#__PURE__*/_jsx(Route,{path:\"/events/:id\",element:/*#__PURE__*/_jsx(EventDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/bookings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Bookings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"admin\",children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"admin\",children:/*#__PURE__*/_jsx(UserManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/events\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"admin\",children:/*#__PURE__*/_jsx(EventManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/payments\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"admin\",children:/*#__PURE__*/_jsx(PaymentManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(OrganizerDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/create-event\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CreateEvent,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-event/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(EditEvent,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-events\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(RegisteredAttendees,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})}),/*#__PURE__*/_jsx(Footer,{})]})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","Navbar","Footer","Home","Login","Register","Events","EventDetail","Bookings","Profile","AdminDashboard","UserManagement","EventManagement","PaymentManagement","OrganizerDashboard","CreateEvent","EditEvent","RegisteredAttendees","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requiredRole","user","loading","className","to","replace","role","App","path","element"],"sources":["C:/Users/lenovo/Desktop/Eventhub/frontend/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { AuthProvider, useAuth } from './context/AuthContext';\r\n\r\n// Layout Components\r\nimport Navbar from './components/layout/Navbar';\r\nimport Footer from './components/layout/Footer';\r\n\r\n// Pages\r\nimport Home from './pages/Home';\r\nimport Login from './pages/auth/Login';\r\nimport Register from './pages/auth/Register';\r\nimport Events from './pages/Events';\r\nimport EventDetail from './pages/EventDetail';\r\nimport Bookings from './pages/Bookings';\r\nimport Profile from './pages/Profile';\r\n\r\n// Admin Pages\r\nimport AdminDashboard from './pages/admin/AdminDashboard';\r\nimport UserManagement from './pages/admin/UserManagement';\r\nimport EventManagement from './pages/admin/EventManagement';\r\nimport PaymentManagement from './pages/admin/PaymentManagement';\r\n\r\n// Organizer Pages\r\nimport OrganizerDashboard from './pages/organizer/OrganizerDashboard';\r\nimport CreateEvent from './pages/organizer/CreateEvent';\r\nimport EditEvent from './pages/organizer/EditEvent';\r\nimport RegisteredAttendees from './pages/organizer/RegisteredAttendees';\r\n\r\n// Protected Route Component\r\nconst ProtectedRoute = ({ children, requiredRole = null }) => {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  if (requiredRole && user.role !== requiredRole) {\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <div className=\"min-h-screen bg-gray-50 flex flex-col\">\r\n          <Navbar />\r\n          <main className=\"flex-grow\">\r\n            <Routes>\r\n              {/* Public Routes */}\r\n              <Route path=\"/\" element={<Home />} />\r\n              <Route path=\"/login\" element={<Login />} />\r\n              <Route path=\"/register\" element={<Register />} />\r\n              <Route path=\"/events\" element={<Events />} />\r\n              <Route path=\"/events/:id\" element={<EventDetail />} />\r\n\r\n              {/* Protected Routes */}\r\n              <Route\r\n                path=\"/bookings\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <Bookings />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/profile\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <Profile />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n\r\n              {/* Admin Routes */}\r\n              <Route\r\n                path=\"/admin\"\r\n                element={\r\n                  <ProtectedRoute requiredRole=\"admin\">\r\n                    <AdminDashboard />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/admin/users\"\r\n                element={\r\n                  <ProtectedRoute requiredRole=\"admin\">\r\n                    <UserManagement />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/admin/events\"\r\n                element={\r\n                  <ProtectedRoute requiredRole=\"admin\">\r\n                    <EventManagement />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/admin/payments\"\r\n                element={\r\n                  <ProtectedRoute requiredRole=\"admin\">\r\n                    <PaymentManagement />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n\r\n              {/* User Routes (create events, manage bookings) */}\r\n              <Route\r\n                path=\"/dashboard\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <OrganizerDashboard />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/create-event\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <CreateEvent />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/edit-event/:id\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <EditEvent />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/my-events\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <RegisteredAttendees />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n\r\n              {/* Catch all route */}\r\n              <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n            </Routes>\r\n          </main>\r\n          <Footer />\r\n        </div>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}